<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MarcBook · L'Univers d'Aprenentatge</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root {
    --primary: #6366f1;
    --bg-body: #f3f4f6;
    --bg-card: #ffffff;
    --text-main: #1f2937;
    --text-light: #6b7280;
    --gradient-hero: linear-gradient(135deg, #4f46e5 0%, #9333ea 100%);
}

* { box-sizing: border-box; transition: all 0.3s ease; }
body { margin:0; font-family:'Poppins', sans-serif; background: var(--bg-body); color: var(--text-main); overflow-x:hidden; }

/* --- HERO --- */
.hero {
    background: var(--gradient-hero);
    color:white; text-align:center;
    padding:4rem 2rem 6rem;
    border-bottom-left-radius:50px;
    border-bottom-right-radius:50px;
}
.hero-avatar { width:140px; height:140px; border-radius:50%; border:4px solid rgba(255,255,255,0.3); margin-bottom: 1rem; }

/* --- CONTROLS --- */
.controls-container { max-width:1000px; margin:-30px auto 2rem; padding:0 1rem; position:relative; z-index:10; }
.search-bar { background:white; padding:0.8rem 1.5rem; border-radius:50px; box-shadow:0 4px 15px rgba(0,0,0,0.05); display:flex; align-items:center; margin-bottom: 1rem; }
.search-bar input { border:none; outline:none; width:100%; margin-left:10px; font-size:1rem; }
.filter-buttons { display:flex; justify-content:center; flex-wrap:wrap; gap:0.5rem; }
.btn-filter { background:white; border:none; padding:0.6rem 1.2rem; border-radius:20px; font-weight:600; color:var(--text-light); cursor:pointer; }
.btn-filter.active { background:var(--primary); color:white; }

/* --- LOGICA DE GRID vs ROWS --- */
.main-container { max-width: 1240px; margin: 0 auto; padding: 0 1.5rem 4rem; }

/* Per defecte (Tots / PI): Graella contínua */
.grid-layout {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}

/* Per als cursos: Files amb Scroll */
.row-layout .ut-section { margin-bottom: 3rem; }
.row-layout .ut-title { display: block; font-family: 'Nunito'; font-size: 1.5rem; font-weight: 800; color: var(--primary); margin-bottom: 1rem; }
.row-layout .ut-row-wrapper { 
    display: flex; 
    overflow-x: auto; 
    gap: 1.5rem; 
    padding-bottom: 1rem;
    cursor: grab;
    scrollbar-width: thin;
}
.row-layout .ut-row-wrapper:active { cursor: grabbing; }

/* Amaguem elements segons el mode */
.grid-layout .ut-title { display: none; }
.grid-layout .ut-section { display: contents; } /* Fa que les targetes ignorin el div pare i s'ajustin a la grid */

/* --- TARGETES --- */
.artifact-card {
    background: var(--bg-card);
    border-radius: 20px;
    width: 280px;
    height: 440px;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 6px rgba(0,0,0,0.04);
    overflow: hidden;
}
.artifact-card.hidden { display: none !important; }

.card-header { height: 120px; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; }
.header-bio { background: linear-gradient(135deg,#10b981,#059669); }
.header-fis { background: linear-gradient(135deg,#f59e0b,#d97706); }
.header-proj { background: linear-gradient(135deg,#ec4899,#db2777); }

.card-body { padding: 1.2rem; display: flex; flex-direction: column; flex-grow: 1; }
.course-badge { background: var(--bg-body); padding: 2px 8px; border-radius: 6px; font-size: 0.7rem; font-weight: 700; margin-bottom: 0.5rem; width: fit-content; }
.card-title { font-size: 1.1rem; font-weight: 800; margin-bottom: 0.5rem; }
.card-desc { font-size: 0.85rem; color: var(--text-light); flex-grow: 1; }

.btn-launch { display:flex; align-items:center; justify-content:center; width:100%; padding:0.6rem; border-radius:12px; background:var(--bg-body); color:var(--text-main); text-decoration:none; font-weight:600; }
.btn-launch:hover { background: var(--primary); color:white; }

/* Scrollbar personalitzat */
.ut-row-wrapper::-webkit-scrollbar { height: 6px; }
.ut-row-wrapper::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }

</style>
</head>
<body>

<header class="hero">
    <img src="https://i.ibb.co/Df2w2zm2/Marc.png" alt="Marc" class="hero-avatar">
    <h1 style="font-family:'Nunito'; font-size:3rem; margin:0;">MarcBook</h1>
    <p>Simulacions i eines interactives per a l'aula.</p>
</header>

<div class="controls-container">
    <div class="search-bar">
        <i class="fas fa-search"></i>
        <input type="text" id="searchInput" placeholder="Busca un tema...">
    </div>
    <div class="filter-buttons">
        <button class="btn-filter active" data-cat="all">Tots</button>
        <button class="btn-filter" data-cat="1eso">1r curs</button>
        <button class="btn-filter" data-cat="2eso">2n curs</button>
        <button class="btn-filter" data-cat="3eso">3r curs</button>
        <button class="btn-filter" data-cat="4eso">4t curs</button>
        <button class="btn-filter" data-cat="projectes">Projecte Integrador</button>
    </div>
</div>

<main class="main-container grid-layout" id="mainGrid">

    <div class="ut-section" data-ut="2.2">
    <h3 class="ut-title">2n curs · UT 2.2</h3>
    <div class="ut-row-wrapper">
        <!-- UT2.2: Cròniques nutrients -->
        <div class="artifact-card" data-category="2eso" data-tags="nutricio digestiu resum UT2.2">
            <div class="card-header header-bio">
                <img src="https://i.ibb.co/v4WRswGk/C3.png" alt="C3" border="0">
            </div>
            <div class="card-body">
                <span class="course-badge">2n curs · UT 2.2</span>
                <h3 class="card-title">Les Cròniques dels Nutrients</h3>
                <p class="card-desc">
                    Resum gamificat del recorregut dels aliments pel sistema digestiu.
                </p>
                <a href="CFN/2n/UT2-2/cronicas-nutrientes.html" class="btn-launch">Castellà</a>
                <a href="CFN/2n/UT2-2/croniques-nutriments.html" class="btn-launch">Francès</a>
            </div>
        </div>

        <!-- Detectiu etiquetes -->
        <div class="artifact-card" data-category="2eso" data-tags="nutricio etiquetes">
            <div class="card-header header-bio">
                <i class="fas fa-user-secret"></i>
            </div>
            <div class="card-body">
                <span class="course-badge">2n curs · UT 2.2</span>
                <h3 class="card-title">Detectiu d’Etiquetes</h3>
                <p class="card-desc">
                    Analitza aliments i classifica’ls segons el seu valor nutricional.
                </p>
                <a href="CFN/2n/UT2-2/detective-etiquetas.html" class="btn-launch">Castellà</a>
                <a href="CFN/2n/UT2-2/detective-etiquettes.html" class="btn-launch">Francès</a>
            </div>
        </div>

        <!-- Argumentació -->
        <div class="artifact-card" data-category="2eso" data-tags="nutricio argumentacio c3">
            <div class="card-header header-bio">
                <i class="fas fa-comments"></i>
            </div>
            <div class="card-body">
                <span class="course-badge">2n curs · UT 2.2</span>
                <h3 class="card-title">Argumentació científica</h3>
                <p class="card-desc">
                    Activitat C3 basada en una fake news sobre alimentació.
                </p>
                <a href="CFN/2n/UT2-2/argumentacion-cienti


</main>

<script>
const mainGrid = document.getElementById('mainGrid');
const buttons = document.querySelectorAll('.btn-filter');
const sections = document.querySelectorAll('.ut-section');
const cards = document.querySelectorAll('.artifact-card');

function filter(category) {
    // 1. Canviar mode de visualització
    if (category === 'all' || category === 'projectes') {
        mainGrid.className = 'main-container grid-layout';
    } else {
        mainGrid.className = 'main-container row-layout';
    }

    // 2. Filtrar targetes
    cards.forEach(card => {
        const match = (category === 'all' || card.dataset.category === category);
        card.classList.toggle('hidden', !match);
    });

    // 3. Amagar seccions buides
    sections.forEach(sec => {
        const hasVisible = Array.from(sec.querySelectorAll('.artifact-card')).some(c => !c.classList.contains('hidden'));
        sec.style.display = hasVisible ? 'block' : 'none';
    });
}

// Click en botons (sense salt de pàgina)
buttons.forEach(btn => {
    btn.addEventListener('click', (e) => {
        buttons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        filter(btn.dataset.cat);
    });
});

// Lògica de "Drag to Scroll" (Arrossegar per moure's horitzontalment)
const sliders = document.querySelectorAll('.ut-row-wrapper');
sliders.forEach(slider => {
    let isDown = false;
    let startX;
    let scrollLeft;

    slider.addEventListener('mousedown', (e) => {
        isDown = true;
        startX = e.pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
    });
    slider.addEventListener('mouseleave', () => isDown = false);
    slider.addEventListener('mouseup', () => isDown = false);
    slider.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - slider.offsetLeft;
        const walk = (x - startX) * 2; 
        slider.scrollLeft = scrollLeft - walk;
    });
});

// Cerca
document.getElementById('searchInput').addEventListener('input', (e) => {
    const term = e.target.value.toLowerCase();
    cards.forEach(card => {
        const text = card.innerText.toLowerCase();
        card.classList.toggle('hidden', !text.includes(term));
    });
    // Refresh de seccions
    const activeCat = document.querySelector('.btn-filter.active').dataset.cat;
    filter(activeCat);
});
</script>
</body>
</html>
